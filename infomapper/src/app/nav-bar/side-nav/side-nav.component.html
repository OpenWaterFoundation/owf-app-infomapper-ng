<mat-nav-list>

  <a mat-list-item [routerLink]="['/home']" (click)="onSidenavClose()">Home</a>
  <mat-divider></mat-divider>

  <div *ngFor="let mainMenu of appConfig.mainMenu">
    <div *ngIf="mainMenu | checkElement : 'mainMenuIsVisible'">
      
      <div *ngIf="mainMenu.menus">
        <a mat-list-item [matMenuTriggerFor]="menu" [disabled]="mainMenu.enabled === false"
        [ngClass]="{ 'menu-disabled': mainMenu.enabled === false }" tabindex="-1">
          {{mainMenu.name}}
        </a>
        <mat-menu #menu="matMenu">

          <div *ngFor="let subMenu of mainMenu.menus;">

            <div *ngIf="subMenu.doubleSeparatorBefore === true">
              <mat-divider></mat-divider>
              <mat-divider></mat-divider>
            </div>

            <div *ngIf="subMenu | checkElement : 'subMenuContentPage'">
              <button mat-menu-item [routerLink]="['/content-page/', subMenu.id]"
              (click)="onSidenavClose()" [disabled]="subMenu.enabled === false">
                <fa-icon class="fa-file-text" [icon]=faFileLines size="xl"
                [ngClass]="{ 'menu-disabled': subMenu.enabled === false }"></fa-icon>
                {{subMenu.name}}
              </button>
            </div>

            <div *ngIf="subMenu | checkElement : 'subMenuDashboard'">
              <button mat-menu-item [routerLink]="['/dashboard/', subMenu.id]"
              (click)="onSidenavClose()" [disabled]="subMenu.enabled === false">
                <fa-icon class="fa-gauge-high" [icon]=faGaugeHigh size="xl"
                [ngClass]="{ 'menu-disabled': subMenu.enabled === false }"></fa-icon>
                {{subMenu.name}}
              </button>
            </div>

            <div *ngIf="subMenu | checkElement : 'subMenuDisplayMap'">
              <button mat-menu-item [routerLink]="['/map/', subMenu.id]"
              (click)="onSidenavClose()" [disabled]="subMenu.enabled === false">
                <img [ngClass]="{ 'menu-disabled': subMenu.enabled === false }"
                src="assets/app-default/img/baseline-map-24px.svg"/>
                {{subMenu.name}}
              </button>
            </div>

            <div *ngIf="subMenu | checkElement : 'subMenuExternalLink'">
              <a mat-menu-item [attr.href]="subMenu.url" target="_blank"
              (click)="onSidenavClose()" [disabled]="subMenu.enabled === false">
                <img [ngClass]="{ 'menu-disabled': subMenu.enabled === false }"
                src="assets/app-default/img/baseline-open_in_new-24px.svg"/>
                {{subMenu.name}}
              </a>
            </div>

            <mat-divider></mat-divider>
  
          </div>

        </mat-menu>
        
      </div>

      <div *ngIf="mainMenu.action === 'contentPage'">
        <a mat-list-item [disabled]="mainMenu.enabled === false"
        [routerLink]="['/content-page/', mainMenu.id]"
        [ngClass]="{ 'menu-disabled': mainMenu.enabled === false }"
        (click)="onSidenavClose()" tabindex="-1">
          {{mainMenu.name}}
        </a>
      </div>

      <div *ngIf="mainMenu.action === 'dashboard'">
        <a mat-list-item [disabled]="mainMenu.enabled === false"
        [routerLink]="['/dashboard/', mainMenu.id]"
        [ngClass]="{ 'menu-disabled': mainMenu.enabled === false }"
        (click)="onSidenavClose()" tabindex="-1">
          {{mainMenu.name}}
        </a>
      </div>

      <div *ngIf="mainMenu.action === 'displayMap'">
        <a mat-list-item [disabled]="mainMenu.enabled === false"
        [routerLink]="['/map/', mainMenu.id]"
        [ngClass]="{ 'menu-disabled': mainMenu.enabled === false }"
        (click)="onSidenavClose()" tabindex="-1">
          {{mainMenu.name}}
        </a>
      </div>

      <div *ngIf="mainMenu.action === 'externalLink'">
        <a mat-list-item [disabled]="mainMenu.enabled === false"
        [attr.href]="mainMenu.url" target="_blank"
        [ngClass]="{ 'menu-disabled': mainMenu.enabled === false }"
        (click)="onSidenavClose()" tabindex="-1">
          {{mainMenu.name}}
        </a>
      </div>

      <mat-divider></mat-divider>

    </div>
  </div>

  <a mat-list-item (click)="onSidenavClose()">Close</a>

</mat-nav-list>